---
title:   Composer и Packagist
isChild: true
---

## Composer и Packagist

Composer е **брилянтна** система за управление на зависимости за PHP. Изпишете проектните зависимости в файл `composer.json` и с няколко команди, Composer автоматично ще свали и настрои проектните зависимости вместо вас.

Вече има предостатично PHP библиотеки, които са съвместими с Composer, готови за ползване във вашия проект. Тези "пакети" са описани в списъка на [Packagist][1], официалното хранилище за Composer-съвместими PHP библиотеки.

### Как да инсталираме Composer

Можете да инсталирате Composer локално (в текущата директория; но вече не се препоръчва) или глобално (например /usr/local/bin). Нека допуснем, че желаете да инсталирате Composer локално. От директорията на проекта изпълнете:

    curl -s http://getcomposer.org/installer | php

Това ще изтегли `composer.phar` (изпълним PHP архив). Можете да стартирате файла с `php` за да управлявате зависимостите си. <strong>Забележка:</strong> Ако сваленият код го пренасочите директно към интерпретатора, чрез pipe `|`, моля първо прочетете кода онлайн за да подвърдите, че е сигурен (не е зловреден).

### Как да инсталираме Composer (ръчно)

Ръчното инсталиране на Composer техника за напреднали; въпреки това, има множество причини заради които разработчика може да предпочете този метод пред използването на интерактивна инсталация. Интерактивната инсталация проверява вашата PHP инсталация дали:

- PHP интерпретатора е необходимата версия
- `.phar` файловете могат да бъдат изпълнени правилно
- настройките на правата на определени директории са достатъчни
- опрелени пробленми разширения на PHP са заредени
- определени `php.ini` настройки са зададени

Защото ръчната инсталация не прилага нито една от тези проверки, вие трябва да решите дали е по-подходяща за вас. А ето как да се сдобиете с Composer ръчно:

    curl -s http://getcomposer.org/composer.phar -o $HOME/local/bin/composer
    chmod +x $HOME/local/bin/composer

Пътят `$HOME/local/bin` (или избраната от вас директория) трябва да се намира в променливата в средата `$PATH`. Това ще направи `composer` достъпен от командния ред.

Когато се натъкнете на документация, която пише да ползвате Composer, като `php composer.phar install`, може да го замените с:

    composer install

### Как да описваме и инсталираме зависимости

Първо създайте файл `composer.json` в същатата директория, като `composer.phar`. Ето пример за списък, кото описва [Twig][2] като зависимост за проекта.

	{
	    "require": {
	        "twig/twig": "1.8.*"
	    }
	}

След това, изпълнете командата от проектната директория.

    php composer.phar install

Това ще изтегли и инсталира проектните зависимости в директория `vendors/`. След това, добавете тази линия към основния файл на вашия проект; това ще каже на PHP да ползва атоматичния зареждач (autoloader) на Composer за вашите проектни зависимости.

{% highlight php %}
<?php
require 'vendor/autoload.php';
{% endhighlight %}

Вече можете да използвате вашите проектни зависимости и те ще се зареждат при нужда.

* [Научи относно Composer][3]

[1]: http://packagist.org/
[2]: http://twig.sensiolabs.org
[3]: http://getcomposer.org/doc/00-intro.md
